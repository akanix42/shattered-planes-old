{"version":3,"sources":["components/PositionComponent.js"],"names":[],"mappings":"AAAA,a;AACA;AACA,qD;AACA,+F;;;AAGM,iB,WADL,yBAAa,mBAAb,C;AAEC,+BAAc;;AAEZ,UAAK,UAAL,CAAgB,iBAAO,IAAvB,EAA6B,GAA7B,EAAkC,MAAK,UAAvC,EAFY,aAGb,C;;;AAEU,S,EAAO;AAChB,UAAI,KAAK,MAAL,CAAY,IAAhB;AACE,WAAK,MAAL,CAAY,IAAZ,CAAiB,cAAjB,CAAgC,KAAK,MAArC;AACF,UAAI,MAAM,WAAV;AACE,YAAM,WAAN,CAAkB,WAAlB,CAA8B,KAAK,MAAnC,EACH,C;;;AAEH,kBAAkB,KAAlB,GAA0B,UAA1B,C;;AAEe,iB","file":"components/PositionComponent.js","sourcesContent":["'use strict';\r\nimport {serializable} from 'jsonc';\r\nimport Component from 'shattered-lib/Component';\r\nimport events from '/events';\r\n\r\n@serializable('OccupantComponent')\r\nclass OccupantComponent extends Component {\r\n  constructor() {\r\n    super();\r\n    this.addHandler(events.move, 100, this.onPosition);\r\n  }\r\n\r\n  onPosition(event) {\r\n    if (this.entity.tile)\r\n      this.entity.tile.removeOccupant(this.entity);\r\n    if (event.destination)\r\n      event.destination.addOccupant(this.entity);\r\n  }\r\n}\r\nOccupantComponent._name = 'occupant';\r\n\r\nexport default OccupantComponent;\r\n"],"sourceRoot":"/source/"}