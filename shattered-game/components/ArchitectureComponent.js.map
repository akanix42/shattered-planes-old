{"version":3,"sources":["components/ArchitectureComponent.js"],"names":[],"mappings":"AAAA,a;AACA;AACA,qD;AACA,+F;;;AAGM,qB,WADL,yBAAa,uBAAb,C;AAEC,mCAAc;;AAEZ,UAAK,UAAL,CAAgB,iBAAO,QAAvB,EAAiC,GAAjC,EAAsC,MAAK,UAA3C,EAFY,aAGb,C;;;AAEU,S,EAAO;AAChB,UAAI,MAAM,WAAN,KAAsB,KAAK,MAAL,CAAY,IAAtC;AACE;;AAEF,UAAM,eAAe,KAAK,MAAL,CAAY,IAAjC;AACA,UAAI,gBAAgB,aAAa,YAAb,KAA8B,KAAK,MAAvD;AACE,mBAAa,YAAb,GAA4B,IAA5B;;AAEF,UAAI,MAAM,WAAV;AACE,YAAM,WAAN,CAAkB,YAAlB,GAAiC,KAAK,MAAtC,CACH,C;;;;AAGH,sBAAsB,KAAtB,GAA8B,cAA9B,C;;AAEe,qB","file":"components/ArchitectureComponent.js","sourcesContent":["'use strict';\r\nimport {serializable} from 'jsonc';\r\nimport Component from 'shattered-lib/Component';\r\nimport events from '/events';\r\n\r\n@serializable('ArchitectureComponent')\r\nclass ArchitectureComponent extends Component {\r\n  constructor() {\r\n    super();\r\n    this.addHandler(events.position, 150, this.onPosition);\r\n  }\r\n\r\n  onPosition(event) {\r\n    if (event.destination === this.entity.tile)\r\n      return;\r\n\r\n    const previousTile = this.entity.tile;\r\n    if (previousTile && previousTile.architecture === this.entity)\r\n      previousTile.architecture = null;\r\n\r\n    if (event.destination)\r\n      event.destination.architecture = this.entity;\r\n  }\r\n}\r\n\r\nArchitectureComponent._name = 'architecture';\r\n\r\nexport default ArchitectureComponent;\r\n"],"sourceRoot":"/source/"}