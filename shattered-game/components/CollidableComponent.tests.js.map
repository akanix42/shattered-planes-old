{"version":3,"sources":["components/CollidableComponent.tests.js"],"names":[],"mappings":"AAAA;AACA,0D;AACA,+F;AACA,8C;AACA,4B;;AAEA,eAAK,MAAL;;AAEA,SAAS,qBAAT,EAAgC,YAAK;AACnC,WAAS,YAAT,EAAuB,YAAM;AAC3B,6CAAyC,YAAM;AAC7C,UAAM,mBAAmB,kCAAzB;AACA,UAAM,SAAS,sBAAf;AACA,aAAO,YAAP,CAAoB,gBAApB;;AAEA,UAAI,SAAS,EAAb;AACA,UAAM,cAAc;AAClB,YADkB,gBACb,KADa,EACN;AACV,mBAAS,KAAT,CACD,CAHiB,EAApB;;;AAKA,uBAAiB,UAAjB,CAA4B,EAAC,wBAAD,EAA5B;AACA,aAAO,MAAP,CAAc,GAAd,CAAkB,EAAC,MAAM,iBAAO,cAAd,EAA8B,QAAQ,MAAtC,EAAlB,EACD,CAbD;;;AAeA,+DAA2D,YAAM;AAC/D,UAAM,mBAAmB,kCAAzB;AACA,UAAM,SAAS,sBAAf;AACA,aAAO,YAAP,CAAoB,gBAApB;;AAEA,UAAI,iBAAiB,MAArB;AACA,UAAM,cAAc;AAClB,YADkB,gBACb,KADa,EACN;AACV,iBAAO,cAAP,CACD,CAHiB,EAApB;;;AAKA,UAAM,SAAS,iBAAiB,UAAjB,CAA4B,EAAC,wBAAD,EAA5B,CAAf;AACA,aAAO,MAAP,CAAc,KAAd,CAAoB,cAApB,EACD,CAbD,EAeD,CA/BD;;;;;AAiCA,WAAS,UAAT,EAAqB,YAAM;AACzB,OAAG,oCAAH,EAAyC,YAAM;AAC7C,UAAM,mBAAmB,kCAAzB;AACA,uBAAiB,QAAjB,CAA0B,IAA1B,CAA+B,2BAAS,QAAQ,SAAR,KAAsB,iBAAO,IAAtC,EAA/B,EAA2E,MAA3E,CAAkF,EAAlF,CAAqF,EAArF,CACD,CAHD;;;AAKA,OAAG,wCAAH,EAA6C,YAAM;AACjD,UAAM,mBAAmB,kCAAzB;AACA,uBAAiB,QAAjB,CAA0B,IAA1B,CAA+B,2BAAS,QAAQ,SAAR,KAAsB,iBAAO,cAAtC,EAA/B,EAAqF,MAArF,CAA4F,EAA5F,CAA+F,EAA/F,CACD,CAHD,EAID,CAVD,EAWD,CA7CD","file":"components/CollidableComponent.tests.js","sourcesContent":["'use strict';\r\nimport CollidableComponent from './CollisionComponent';\r\nimport events from '/events';\r\nimport Entity from 'shattered-lib/Entity';\r\nimport chai from 'chai';\r\n\r\nchai.should();\r\n\r\ndescribe('CollidableComponent', ()=> {\r\n  describe('onPosition', () => {\r\n    it(`should emit a willNotCollide event`, () => {\r\n      const collideComponent = new CollidableComponent();\r\n      const entity = new Entity();\r\n      entity.addComponent(collideComponent);\r\n\r\n      let result = {};\r\n      const destination = {\r\n        emit(event) {\r\n          result = event;\r\n        }\r\n      };\r\n      collideComponent.onPosition({destination});\r\n      result.should.eql({name: events.willNotCollide, entity: entity});\r\n    });\r\n\r\n    it(`should return the result of the willNotCollide event`, () => {\r\n      const collideComponent = new CollidableComponent();\r\n      const entity = new Entity();\r\n      entity.addComponent(collideComponent);\r\n\r\n      let expectedResult = 'test';\r\n      const destination = {\r\n        emit(event) {\r\n          return expectedResult;\r\n        }\r\n      };\r\n      const result = collideComponent.onPosition({destination});\r\n      result.should.equal(expectedResult);\r\n    });\r\n\r\n  });\r\n\r\n  describe('Handlers', () => {\r\n    it('should listen to onPosition events', () => {\r\n      const collideComponent = new CollidableComponent();\r\n      collideComponent.handlers.find(handler=>handler.eventName === events.move).should.be.ok;\r\n    });\r\n\r\n    it('should listen to willNotCollide events', () => {\r\n      const collideComponent = new CollidableComponent();\r\n      collideComponent.handlers.find(handler=>handler.eventName === events.willNotCollide).should.be.ok;\r\n    });\r\n  });\r\n});\r\n"],"sourceRoot":"/source/"}